import{r as o,u as l,s as m,j as t,A as x}from"./app-SpSkcMcW.js";import{h as u}from"./moment-C5S46NFB.js";import{T as g}from"./table-oJ3D3drO.js";import{P as f}from"./pagination-D4tTBNzk.js";import{g as p}from"./category-thunk-BSbKWxDN.js";import{F as h}from"./TicketIcon-BLrpv8wJ.js";import{F as y}from"./ExclamationTriangleIcon-rX3zNAmc.js";function N(){const[n,r]=o.useState([]),{tickets:a}=l(e=>e.category);o.useEffect(()=>{m.dispatch(p())},[]);const c=[{title:"Name of Requestor",key:"name"},{title:"Categories",key:"categories"},{title:"Ticket No.",key:"ticket_id"},{title:"Assigned I.T Personnel",key:"assigned_to"},{title:"Status",key:"status"},{title:"Date Filed",key:"created_at"},{title:"Action",key:"action"}],d=a==null?void 0:a.data.map(e=>{var s,i;return{...e,name:((s=e==null?void 0:e.user)==null?void 0:s.name)??"",categories:e.category.name,assigned_to:((i=e==null?void 0:e.assigned_to)==null?void 0:i.name)??"N/A",created_at:u(e.created_at).format("LLL"),status:t.jsxs(t.Fragment,{children:[e.isUrgent&&t.jsx("div",{class:"bg-yellow-600 text-white text-xs font-medium inline-flex items-center px-2.5 py-0.5 rounded me-2 border-gray-500",children:e.status}),e.isUrgent=="true"&&t.jsxs("div",{class:"bg-red-600 text-white text-xs font-medium inline-flex items-center px-2.5 py-0.5 rounded me-2 border-gray-500",children:[t.jsx(y,{className:"size-2 mr-1"}),"Urgent"]})]}),action:t.jsx("div",{className:"flex gap-4",children:t.jsxs("button",{onClick:()=>x.visit("/admin/tickets/"+e.id+"/details"),type:"button",class:"text-white bg-[#2557D6] gap-2 hover:bg-[#2557D6]/90 focus:ring-4 focus:ring-[#2557D6]/50 focus:outline-none font-medium rounded-lg text-sm px-5 py-1.5 text-center inline-flex items-center",children:[t.jsx(h,{className:"size-5 "}),"View Ticket"]})})}});return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex flex-col items-center justify-between h-[85vh] w-full",children:[t.jsx(g,{setDataChecked:r,dataChecked:n,columns:c,data:d,isCheckbox:!0}),t.jsx(f,{data:a})]})})}export{N as default};
