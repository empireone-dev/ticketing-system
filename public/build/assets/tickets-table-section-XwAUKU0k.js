import{R as r,r as u,u as Ie,j as p,A as Ce}from"./app-D64YapS9.js";import{h as At}from"./moment-C5S46NFB.js";import{T as Ht}from"./table-BneIcIZV.js";import Lt from"./tickets-search-section-DS2VamUf.js";import Ft from"./tickets-filter-by-date-Ckb4hRuJ.js";import{S as ne}from"./index-BKZMmBYI.js";import{F as Ut,R as Kt,a as Vt}from"./FieldTimeOutlined-BLSc-fOm.js";import{F as qt}from"./XMarkIcon-C_bJvO_o.js";import{F as Xt}from"./ExclamationTriangleIcon-CvAaofWl.js";import{F as Wt}from"./TicketIcon-UsP7pyAD.js";import{I as ot,_ as X,f as ye,a as we,e as R,h as Jt}from"./AntdIcon-DgTQT9aM.js";import{a as Ze,R as ke}from"./LeftOutlined-BVkwouEy.js";import{c as L}from"./index-evD9Yazm.js";import{f as et,p as Gt,u as Qt}from"./ContextIsolator-qU3ZyCY2.js";import{K as q}from"./motion-DKfY9s4T.js";import{i as lt,t as Yt,g as Zt,P as kt,a as C,Q as ei,ae as tt,m as ti,e as ii,C as ni,a3 as ai,af as ri}from"./button-Bs9-HjGw.js";import{u as oi}from"./useForceUpdate-CHP5iMXo.js";import{i as li,e as ci,t as si,v as mi,w as ui,x as di}from"./index-B0mHXF-H.js";import"./tickets-thunk-C4I_1JzN.js";import"./ticket-service-CeKs-T6Q.js";import"./index-BatNwf32.js";import"./PurePanel-BmBVDFVC.js";import"./CheckOutlined-6HNfwgWY.js";import"./roundedArrow-8uWXUDe1.js";const gi=["xxl","xl","lg","md","sm","xs"],pi=e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}),hi=e=>{const t=e,o=[].concat(gi).reverse();return o.forEach((n,c)=>{const d=n.toUpperCase(),v=`screen${d}Min`,m=`screen${d}`;if(!(t[v]<=t[m]))throw new Error(`${v}<=${m} fails : !(${t[v]}<=${t[m]})`);if(c<o.length-1){const g=`screen${d}Max`;if(!(t[m]<=t[g]))throw new Error(`${m}<=${g} fails : !(${t[m]}<=${t[g]})`);const x=`screen${o[c+1].toUpperCase()}Min`;if(!(t[g]<=t[x]))throw new Error(`${g}<=${x} fails : !(${t[g]}<=${t[x]})`)}}),e};function vi(){const[,e]=lt(),t=pi(hi(e));return r.useMemo(()=>{const o=new Map;let n=-1,c={};return{matchHandlers:{},dispatch(d){return c=d,o.forEach(v=>v(c)),o.size>=1},subscribe(d){return o.size||this.register(),n+=1,o.set(n,d),d(c),n},unsubscribe(d){o.delete(d),o.size||this.unregister()},unregister(){Object.keys(t).forEach(d=>{const v=t[d],m=this.matchHandlers[v];m==null||m.mql.removeListener(m==null?void 0:m.listener)}),o.clear()},register(){Object.keys(t).forEach(d=>{const v=t[d],m=P=>{let{matches:x}=P;this.dispatch(Object.assign(Object.assign({},c),{[d]:x}))},g=window.matchMedia(v);g.addListener(m),this.matchHandlers[v]={mql:g,listener:m},m(g)})},responsiveMap:t}},[e])}function fi(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const t=u.useRef({}),o=oi(),n=vi();return Yt(()=>{const c=n.subscribe(d=>{t.current=d,e&&o()});return()=>n.unsubscribe(c)},[]),t.current}var bi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},xi=function(t,o){return u.createElement(ot,X({},t,{ref:o,icon:bi}))},it=u.forwardRef(xi),Si={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},$i=function(t,o){return u.createElement(ot,X({},t,{ref:o,icon:Si}))},nt=u.forwardRef($i),Ci={items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页",page_size:"页码"},yi=["10","20","50","100"],wi=function(t){var o=t.pageSizeOptions,n=o===void 0?yi:o,c=t.locale,d=t.changeSize,v=t.pageSize,m=t.goButton,g=t.quickGo,P=t.rootPrefixCls,x=t.selectComponentClass,z=t.selectPrefixCls,h=t.disabled,D=t.buildOptionText,y=t.showSizeChanger,B=r.useState(""),N=ye(B,2),f=N[0],i=N[1],w=function(){return!f||Number.isNaN(f)?void 0:Number(f)},M=typeof D=="function"?D:function(S){return"".concat(S," ").concat(c.items_per_page)},W=function(b,Z){if(d==null||d(Number(b)),we(y)==="object"){var k;(k=y.onChange)===null||k===void 0||k.call(y,b,Z)}},Q=function(b){i(b.target.value)},F=function(b){m||f===""||(i(""),!(b.relatedTarget&&(b.relatedTarget.className.indexOf("".concat(P,"-item-link"))>=0||b.relatedTarget.className.indexOf("".concat(P,"-item"))>=0))&&(g==null||g(w())))},A=function(b){f!==""&&(b.keyCode===q.ENTER||b.type==="click")&&(i(""),g==null||g(w()))},T=function(){return n.some(function(b){return b.toString()===v.toString()})?n:n.concat([v.toString()]).sort(function(b,Z){var k=Number.isNaN(Number(b))?0:Number(b),je=Number.isNaN(Number(Z))?0:Number(Z);return k-je})},H="".concat(P,"-options");if(!y&&!g)return null;var U=null,Y=null,I=null;if(y&&x){var te=we(y)==="object"?y:{},K=te.options,ae=te.className,J=K?void 0:T().map(function(S,b){return r.createElement(x.Option,{key:b,value:S.toString()},M(S))});U=r.createElement(x,X({disabled:h,prefixCls:z,showSearch:!1,optionLabelProp:K?"label":"children",popupMatchSelectWidth:!1,value:(v||n[0]).toString(),getPopupContainer:function(b){return b.parentNode},"aria-label":c.page_size,defaultOpen:!1},we(y)==="object"?y:null,{className:L("".concat(H,"-size-changer"),ae),options:K,onChange:W}),J)}return g&&(m&&(I=typeof m=="boolean"?r.createElement("button",{type:"button",onClick:A,onKeyUp:A,disabled:h,className:"".concat(H,"-quick-jumper-button")},c.jump_to_confirm):r.createElement("span",{onClick:A,onKeyUp:A},m)),Y=r.createElement("div",{className:"".concat(H,"-quick-jumper")},c.jump_to,r.createElement("input",{disabled:h,type:"text",value:f,onChange:Q,onKeyUp:A,onBlur:F,"aria-label":c.page}),c.page,I)),r.createElement("li",{className:H},U,Y)},de=function(t){var o=t.rootPrefixCls,n=t.page,c=t.active,d=t.className,v=t.showTitle,m=t.onClick,g=t.onKeyPress,P=t.itemRender,x="".concat(o,"-item"),z=L(x,"".concat(x,"-").concat(n),R(R({},"".concat(x,"-active"),c),"".concat(x,"-disabled"),!n),d),h=function(){m(n)},D=function(N){g(N,m,n)},y=P(n,"page",r.createElement("a",{rel:"nofollow"},n));return y?r.createElement("li",{title:v?String(n):null,className:z,onClick:h,onKeyDown:D,tabIndex:0},y):null},ji=function(t,o,n){return n};function at(){}function rt(e){var t=Number(e);return typeof t=="number"&&!Number.isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function ee(e,t,o){var n=typeof e>"u"?t:e;return Math.floor((o-1)/n)+1}var Ni=function(t){var o=t.prefixCls,n=o===void 0?"rc-pagination":o,c=t.selectPrefixCls,d=c===void 0?"rc-select":c,v=t.className,m=t.selectComponentClass,g=t.current,P=t.defaultCurrent,x=P===void 0?1:P,z=t.total,h=z===void 0?0:z,D=t.pageSize,y=t.defaultPageSize,B=y===void 0?10:y,N=t.onChange,f=N===void 0?at:N,i=t.hideOnSinglePage,w=t.align,M=t.showPrevNextJumpers,W=M===void 0?!0:M,Q=t.showQuickJumper,F=t.showLessItems,A=t.showTitle,T=A===void 0?!0:A,H=t.onShowSizeChange,U=H===void 0?at:H,Y=t.locale,I=Y===void 0?Ci:Y,te=t.style,K=t.totalBoundaryShowSizeChanger,ae=K===void 0?50:K,J=t.disabled,S=t.simple,b=t.showTotal,Z=t.showSizeChanger,k=Z===void 0?h>ae:Z,je=t.pageSizeOptions,Oe=t.itemRender,re=Oe===void 0?ji:Oe,Be=t.jumpPrevIcon,Me=t.jumpNextIcon,dt=t.prevIcon,gt=t.nextIcon,pt=r.useRef(null),ht=et(10,{value:D,defaultValue:B}),Te=ye(ht,2),O=Te[0],vt=Te[1],ft=et(1,{value:g,defaultValue:x,postState:function(s){return Math.max(1,Math.min(s,ee(void 0,O,h)))}}),_e=ye(ft,2),l=_e[0],Re=_e[1],bt=r.useState(l),De=ye(bt,2),ie=De[0],ge=De[1];u.useEffect(function(){ge(l)},[l]);var Ae=Math.max(1,l-(F?3:5)),He=Math.min(ee(void 0,O,h),l+(F?3:5));function pe(a,s){var $=a||r.createElement("button",{type:"button","aria-label":s,className:"".concat(n,"-item-link")});return typeof a=="function"&&($=r.createElement(a,Jt({},t))),$}function Le(a){var s=a.target.value,$=ee(void 0,O,h),G;return s===""?G=s:Number.isNaN(Number(s))?G=ie:s>=$?G=$:G=Number(s),G}function xt(a){return rt(a)&&a!==l&&rt(h)&&h>0}var St=h>O?Q:!1;function $t(a){(a.keyCode===q.UP||a.keyCode===q.DOWN)&&a.preventDefault()}function Fe(a){var s=Le(a);switch(s!==ie&&ge(s),a.keyCode){case q.ENTER:_(s);break;case q.UP:_(s-1);break;case q.DOWN:_(s+1);break}}function Ct(a){_(Le(a))}function yt(a){var s=ee(a,O,h),$=l>s&&s!==0?s:l;vt(a),ge($),U==null||U(l,a),Re($),f==null||f($,a)}function _(a){if(xt(a)&&!J){var s=ee(void 0,O,h),$=a;return a>s?$=s:a<1&&($=1),$!==ie&&ge($),Re($),f==null||f($,O),$}return l}var he=l>1,ve=l<ee(void 0,O,h);function Ue(){he&&_(l-1)}function Ke(){ve&&_(l+1)}function Ve(){_(Ae)}function qe(){_(He)}function oe(a,s){if(a.key==="Enter"||a.charCode===q.ENTER||a.keyCode===q.ENTER){for(var $=arguments.length,G=new Array($>2?$-2:0),$e=2;$e<$;$e++)G[$e-2]=arguments[$e];s.apply(void 0,G)}}function wt(a){oe(a,Ue)}function jt(a){oe(a,Ke)}function Nt(a){oe(a,Ve)}function Pt(a){oe(a,qe)}function Et(a){var s=re(a,"prev",pe(dt,"prev page"));return r.isValidElement(s)?r.cloneElement(s,{disabled:!he}):s}function zt(a){var s=re(a,"next",pe(gt,"next page"));return r.isValidElement(s)?r.cloneElement(s,{disabled:!ve}):s}function fe(a){(a.type==="click"||a.keyCode===q.ENTER)&&_(ie)}var Xe=null,It=Gt(t,{aria:!0,data:!0}),Ot=b&&r.createElement("li",{className:"".concat(n,"-total-text")},b(h,[h===0?0:(l-1)*O+1,l*O>h?h:l*O])),We=null,j=ee(void 0,O,h);if(i&&h<=O)return null;var E=[],le={rootPrefixCls:n,onClick:_,onKeyPress:oe,showTitle:T,itemRender:re,page:-1},Bt=l-1>0?l-1:0,Mt=l+1<j?l+1:j,be=Q&&Q.goButton,Tt=we(S)==="object"?S.readOnly:!S,ce=be,Je=null;S&&(be&&(typeof be=="boolean"?ce=r.createElement("button",{type:"button",onClick:fe,onKeyUp:fe},I.jump_to_confirm):ce=r.createElement("span",{onClick:fe,onKeyUp:fe},be),ce=r.createElement("li",{title:T?"".concat(I.jump_to).concat(l,"/").concat(j):null,className:"".concat(n,"-simple-pager")},ce)),Je=r.createElement("li",{title:T?"".concat(l,"/").concat(j):null,className:"".concat(n,"-simple-pager")},Tt?ie:r.createElement("input",{type:"text",value:ie,disabled:J,onKeyDown:$t,onKeyUp:Fe,onChange:Fe,onBlur:Ct,size:3}),r.createElement("span",{className:"".concat(n,"-slash")},"/"),j));var V=F?1:2;if(j<=3+V*2){j||E.push(r.createElement(de,X({},le,{key:"noPager",page:1,className:"".concat(n,"-item-disabled")})));for(var se=1;se<=j;se+=1)E.push(r.createElement(de,X({},le,{key:se,page:se,active:l===se})))}else{var _t=F?I.prev_3:I.prev_5,Rt=F?I.next_3:I.next_5,Ge=re(Ae,"jump-prev",pe(Be,"prev page")),Qe=re(He,"jump-next",pe(Me,"next page"));W&&(Xe=Ge?r.createElement("li",{title:T?_t:null,key:"prev",onClick:Ve,tabIndex:0,onKeyDown:Nt,className:L("".concat(n,"-jump-prev"),R({},"".concat(n,"-jump-prev-custom-icon"),!!Be))},Ge):null,We=Qe?r.createElement("li",{title:T?Rt:null,key:"next",onClick:qe,tabIndex:0,onKeyDown:Pt,className:L("".concat(n,"-jump-next"),R({},"".concat(n,"-jump-next-custom-icon"),!!Me))},Qe):null);var Ne=Math.max(1,l-V),Pe=Math.min(l+V,j);l-1<=V&&(Pe=1+V*2),j-l<=V&&(Ne=j-V*2);for(var me=Ne;me<=Pe;me+=1)E.push(r.createElement(de,X({},le,{key:me,page:me,active:l===me})));if(l-1>=V*2&&l!==3&&(E[0]=r.cloneElement(E[0],{className:L("".concat(n,"-item-after-jump-prev"),E[0].props.className)}),E.unshift(Xe)),j-l>=V*2&&l!==j-2){var Ye=E[E.length-1];E[E.length-1]=r.cloneElement(Ye,{className:L("".concat(n,"-item-before-jump-next"),Ye.props.className)}),E.push(We)}Ne!==1&&E.unshift(r.createElement(de,X({},le,{key:1,page:1}))),Pe!==j&&E.push(r.createElement(de,X({},le,{key:j,page:j})))}var xe=Et(Bt);if(xe){var Ee=!he||!j;xe=r.createElement("li",{title:T?I.prev_page:null,onClick:Ue,tabIndex:Ee?null:0,onKeyDown:wt,className:L("".concat(n,"-prev"),R({},"".concat(n,"-disabled"),Ee)),"aria-disabled":Ee},xe)}var Se=zt(Mt);if(Se){var ue,ze;S?(ue=!ve,ze=he?0:null):(ue=!ve||!j,ze=ue?null:0),Se=r.createElement("li",{title:T?I.next_page:null,onClick:Ke,tabIndex:ze,onKeyDown:jt,className:L("".concat(n,"-next"),R({},"".concat(n,"-disabled"),ue)),"aria-disabled":ue},Se)}var Dt=L(n,v,R(R(R(R(R({},"".concat(n,"-start"),w==="start"),"".concat(n,"-center"),w==="center"),"".concat(n,"-end"),w==="end"),"".concat(n,"-simple"),S),"".concat(n,"-disabled"),J));return r.createElement("ul",X({className:Dt,style:te,ref:pt},It),Ot,xe,S?Je:E,Se,r.createElement(wi,{locale:I,rootPrefixCls:n,disabled:J,selectComponentClass:m,selectPrefixCls:d,changeSize:yt,pageSize:O,pageSizeOptions:je,quickGo:St?_:null,goButton:ce,showSizeChanger:k}))};const ct=e=>u.createElement(ne,Object.assign({},e,{showSearch:!0,size:"small"})),st=e=>u.createElement(ne,Object.assign({},e,{showSearch:!0,size:"middle"}));ct.Option=ne.Option;st.Option=ne.Option;const Pi=e=>{const{componentCls:t}=e;return{[`${t}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-item`]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:e.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:e.colorBorder,backgroundColor:e.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:e.itemActiveBgDisabled},a:{color:e.itemActiveColorDisabled}}},[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${t}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${t}-simple-pager`]:{color:e.colorTextDisabled},[`${t}-jump-prev, ${t}-jump-next`]:{[`${t}-item-link-icon`]:{opacity:0},[`${t}-item-ellipsis`]:{opacity:1}}},[`&${t}-simple`]:{[`${t}-prev, ${t}-next`]:{[`&${t}-disabled ${t}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},Ei=e=>{const{componentCls:t}=e;return{[`&${t}-mini ${t}-total-text, &${t}-mini ${t}-simple-pager`]:{height:e.itemSizeSM,lineHeight:C(e.itemSizeSM)},[`&${t}-mini ${t}-item`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:C(e.calc(e.itemSizeSM).sub(2).equal())},[`&${t}-mini:not(${t}-disabled) ${t}-item:not(${t}-item-active)`]:{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},[`&${t}-mini ${t}-prev, &${t}-mini ${t}-next`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:C(e.itemSizeSM)},[`&${t}-mini:not(${t}-disabled)`]:{[`${t}-prev, ${t}-next`]:{[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover ${t}-item-link`]:{backgroundColor:"transparent"}}},[`
    &${t}-mini ${t}-prev ${t}-item-link,
    &${t}-mini ${t}-next ${t}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:e.itemSizeSM,lineHeight:C(e.itemSizeSM)}},[`&${t}-mini ${t}-jump-prev, &${t}-mini ${t}-jump-next`]:{height:e.itemSizeSM,marginInlineEnd:0,lineHeight:C(e.itemSizeSM)},[`&${t}-mini ${t}-options`]:{marginInlineStart:e.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:e.miniOptionsSizeChangerTop},"&-quick-jumper":{height:e.itemSizeSM,lineHeight:C(e.itemSizeSM),input:Object.assign(Object.assign({},si(e)),{width:e.paginationMiniQuickJumperInputWidth,height:e.controlHeightSM})}}}},zi=e=>{const{componentCls:t}=e;return{[`
    &${t}-simple ${t}-prev,
    &${t}-simple ${t}-next
    `]:{height:e.itemSizeSM,lineHeight:C(e.itemSizeSM),verticalAlign:"top",[`${t}-item-link`]:{height:e.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive},"&::after":{height:e.itemSizeSM,lineHeight:C(e.itemSizeSM)}}},[`&${t}-simple ${t}-simple-pager`]:{display:"inline-block",height:e.itemSizeSM,marginInlineEnd:e.marginXS,input:{boxSizing:"border-box",height:"100%",padding:`0 ${C(e.paginationItemPaddingInline)}`,textAlign:"center",backgroundColor:e.itemInputBg,border:`${C(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadius,outline:"none",transition:`border-color ${e.motionDurationMid}`,color:"inherit","&:hover":{borderColor:e.colorPrimary},"&:focus":{borderColor:e.colorPrimaryHover,boxShadow:`${C(e.inputOutlineOffset)} 0 ${C(e.controlOutlineWidth)} ${e.controlOutline}`},"&[disabled]":{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,cursor:"not-allowed"}}}}},Ii=e=>{const{componentCls:t}=e;return{[`${t}-jump-prev, ${t}-jump-next`]:{outline:0,[`${t}-item-container`]:{position:"relative",[`${t}-item-link-icon`]:{color:e.colorPrimary,fontSize:e.fontSizeSM,opacity:0,transition:`all ${e.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${t}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:e.colorTextDisabled,letterSpacing:e.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:e.paginationEllipsisTextIndent,opacity:1,transition:`all ${e.motionDurationMid}`}},"&:hover":{[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}}},[`
    ${t}-prev,
    ${t}-jump-prev,
    ${t}-jump-next
    `]:{marginInlineEnd:e.marginXS},[`
    ${t}-prev,
    ${t}-next,
    ${t}-jump-prev,
    ${t}-jump-next
    `]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,color:e.colorText,fontFamily:e.fontFamily,lineHeight:C(e.itemSize),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}`},[`${t}-prev, ${t}-next`]:{outline:0,button:{color:e.colorText,cursor:"pointer",userSelect:"none"},[`${t}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:e.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${C(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:"none",transition:`all ${e.motionDurationMid}`},[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover`]:{[`${t}-item-link`]:{backgroundColor:"transparent"}}},[`${t}-slash`]:{marginInlineEnd:e.paginationSlashMarginInlineEnd,marginInlineStart:e.paginationSlashMarginInlineStart},[`${t}-options`]:{display:"inline-block",marginInlineStart:e.margin,verticalAlign:"middle","&-size-changer":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:e.controlHeight,marginInlineStart:e.marginXS,lineHeight:C(e.controlHeight),verticalAlign:"top",input:Object.assign(Object.assign(Object.assign({},mi(e)),ui(e,{borderColor:e.colorBorder,hoverBorderColor:e.colorPrimaryHover,activeBorderColor:e.colorPrimary,activeShadow:e.activeShadow})),{"&[disabled]":Object.assign({},di(e)),width:e.calc(e.controlHeightLG).mul(1.25).equal(),height:e.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:e.marginXS,marginInlineEnd:e.marginXS})}}}},Oi=e=>{const{componentCls:t}=e;return{[`${t}-item`]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,marginInlineEnd:e.marginXS,fontFamily:e.fontFamily,lineHeight:C(e.calc(e.itemSize).sub(2).equal()),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:e.itemBg,border:`${C(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${C(e.paginationItemPaddingInline)}`,color:e.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${t}-item-active)`]:{"&:hover":{transition:`all ${e.motionDurationMid}`,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},"&-active":{fontWeight:e.fontWeightStrong,backgroundColor:e.itemActiveBg,borderColor:e.colorPrimary,a:{color:e.colorPrimary},"&:hover":{borderColor:e.colorPrimaryHover},"&:hover a":{color:e.colorPrimaryHover}}}}},Bi=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},kt(e)),{display:"flex","&-start":{justifyContent:"start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"end"},"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${t}-total-text`]:{display:"inline-block",height:e.itemSize,marginInlineEnd:e.marginXS,lineHeight:C(e.calc(e.itemSize).sub(2).equal()),verticalAlign:"middle"}}),Oi(e)),Ii(e)),zi(e)),Ei(e)),Pi(e)),{[`@media only screen and (max-width: ${e.screenLG}px)`]:{[`${t}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${e.screenSM}px)`]:{[`${t}-options`]:{display:"none"}}}),[`&${e.componentCls}-rtl`]:{direction:"rtl"}}},Mi=e=>{const{componentCls:t}=e;return{[`${t}:not(${t}-disabled)`]:{[`${t}-item`]:Object.assign({},ei(e)),[`${t}-jump-prev, ${t}-jump-next`]:{"&:focus-visible":Object.assign({[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}},tt(e))},[`${t}-prev, ${t}-next`]:{[`&:focus-visible ${t}-item-link`]:Object.assign({},tt(e))}}}},mt=e=>Object.assign({itemBg:e.colorBgContainer,itemSize:e.controlHeight,itemSizeSM:e.controlHeightSM,itemActiveBg:e.colorBgContainer,itemLinkBg:e.colorBgContainer,itemActiveColorDisabled:e.colorTextDisabled,itemActiveBgDisabled:e.controlItemBgActiveDisabled,itemInputBg:e.colorBgContainer,miniOptionsSizeChangerTop:0},li(e)),ut=e=>ti(e,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:e.calc(e.marginXXS).div(2).equal(),paginationMiniQuickJumperInputWidth:e.calc(e.controlHeightLG).mul(1.1).equal(),paginationItemPaddingInline:e.calc(e.marginXXS).mul(1.5).equal(),paginationEllipsisLetterSpacing:e.calc(e.marginXXS).div(2).equal(),paginationSlashMarginInlineStart:e.marginSM,paginationSlashMarginInlineEnd:e.marginSM,paginationEllipsisTextIndent:"0.13em"},ci(e)),Ti=Zt("Pagination",e=>{const t=ut(e);return[Bi(t),Mi(t)]},mt),_i=e=>{const{componentCls:t}=e;return{[`${t}${t}-bordered${t}-disabled:not(${t}-mini)`]:{"&, &:hover":{[`${t}-item-link`]:{borderColor:e.colorBorder}},"&:focus-visible":{[`${t}-item-link`]:{borderColor:e.colorBorder}},[`${t}-item, ${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,[`&:hover:not(${t}-item-active)`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,a:{color:e.colorTextDisabled}},[`&${t}-item-active`]:{backgroundColor:e.itemActiveBgDisabled}},[`${t}-prev, ${t}-next`]:{"&:hover button":{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,color:e.colorTextDisabled},[`${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder}}},[`${t}${t}-bordered:not(${t}-mini)`]:{[`${t}-prev, ${t}-next`]:{"&:hover button":{borderColor:e.colorPrimaryHover,backgroundColor:e.itemBg},[`${t}-item-link`]:{backgroundColor:e.itemLinkBg,borderColor:e.colorBorder},[`&:hover ${t}-item-link`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,color:e.colorPrimary},[`&${t}-disabled`]:{[`${t}-item-link`]:{borderColor:e.colorBorder,color:e.colorTextDisabled}}},[`${t}-item`]:{backgroundColor:e.itemBg,border:`${C(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,[`&:hover:not(${t}-item-active)`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,a:{color:e.colorPrimary}},"&-active":{borderColor:e.colorPrimary}}}}},Ri=ii(["Pagination","bordered"],e=>{const t=ut(e);return[_i(t)]},mt);var Di=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(o[n[c]]=e[n[c]]);return o};const Ai=e=>{const{align:t,prefixCls:o,selectPrefixCls:n,className:c,rootClassName:d,style:v,size:m,locale:g,selectComponentClass:P,responsive:x,showSizeChanger:z}=e,h=Di(e,["align","prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","selectComponentClass","responsive","showSizeChanger"]),{xs:D}=fi(x),[,y]=lt(),{getPrefixCls:B,direction:N,pagination:f={}}=u.useContext(ni),i=B("pagination",o),[w,M,W]=Ti(i),Q=z??f.showSizeChanger,F=u.useMemo(()=>{const K=u.createElement("span",{className:`${i}-item-ellipsis`},"•••"),ae=u.createElement("button",{className:`${i}-item-link`,type:"button",tabIndex:-1},N==="rtl"?u.createElement(Ze,null):u.createElement(ke,null)),J=u.createElement("button",{className:`${i}-item-link`,type:"button",tabIndex:-1},N==="rtl"?u.createElement(ke,null):u.createElement(Ze,null)),S=u.createElement("a",{className:`${i}-item-link`},u.createElement("div",{className:`${i}-item-container`},N==="rtl"?u.createElement(nt,{className:`${i}-item-link-icon`}):u.createElement(it,{className:`${i}-item-link-icon`}),K)),b=u.createElement("a",{className:`${i}-item-link`},u.createElement("div",{className:`${i}-item-container`},N==="rtl"?u.createElement(it,{className:`${i}-item-link-icon`}):u.createElement(nt,{className:`${i}-item-link-icon`}),K));return{prevIcon:ae,nextIcon:J,jumpPrevIcon:S,jumpNextIcon:b}},[N,i]),[A]=Qt("Pagination",ri),T=Object.assign(Object.assign({},A),g),H=ai(m),U=H==="small"||!!(D&&!H&&x),Y=B("select",n),I=L({[`${i}-${t}`]:!!t,[`${i}-mini`]:U,[`${i}-rtl`]:N==="rtl",[`${i}-bordered`]:y.wireframe},f==null?void 0:f.className,c,d,M,W),te=Object.assign(Object.assign({},f==null?void 0:f.style),v);return w(u.createElement(u.Fragment,null,y.wireframe&&u.createElement(Ri,{prefixCls:i}),u.createElement(Ni,Object.assign({},F,h,{style:te,prefixCls:i,selectPrefixCls:Y,className:I,selectComponentClass:P||(U?ct:st),locale:T,showSizeChanger:Q}))))};function mn(){const{tickets:e}=Ie(i=>i.tickets),{categories:t}=Ie(i=>i.category),{users:o}=Ie(i=>i.it),[n,c]=u.useState([]),d=new URL(window.location.href),v=new URLSearchParams(d.search);v.get("page");const m=v.get("category_id")||null,g=v.get("assigned_to")||null;function P(i){const w=new URLSearchParams(window.location.search);w.set("category_id",i||"null"),Ce.visit(window.location.pathname+"?"+w.toString())}const x=Array.isArray(t==null?void 0:t.data)?t.data.map(i=>({label:i.name,value:i.id})):[],z=Array.isArray(t==null?void 0:t.data)?t.data.find(i=>i.id==m):null;console.log("Categories:",t);const h=[{title:"Name of Requestor",key:"name"},{title:"Ticket No.",key:"ticket_id"},{title:p.jsx("div",{className:"flex gap-3 items-center justify-center",children:p.jsx(ne,{allowClear:!0,className:"w-40 mr-4",showSearch:!0,placeholder:"I.T Personnel",optionFilterProp:"label",defaultValue:g||null,onChange:i=>Ce.visit(window.location.pathname+"?page=1&assigned_to="+i),options:[{value:"",label:"SCIT Department"},...Array.isArray(o)?o.map(i=>({value:i==null?void 0:i.id,label:i==null?void 0:i.name})):[]]})}),key:"assigned_to"},{title:"Status",key:"status"},{title:"Date Filed",key:"created_at"},{title:p.jsx("div",{className:"flex gap-3 items-center justify-center",children:p.jsx(ne,{allowClear:!0,className:"w-36 mr-4",showSearch:!0,placeholder:"Category",optionFilterProp:"label",defaultValue:(z==null?void 0:z.name)??null,onChange:P,options:x})}),key:"category_id"},{title:"Action",key:"action"}],D=Array.isArray(e==null?void 0:e.data)?e.data.map(i=>{var w,M,W;return{...i,name:((w=i==null?void 0:i.user)==null?void 0:w.name)??"",assigned_to:((M=i==null?void 0:i.assigned_to)==null?void 0:M.name)??"",category_id:((W=i==null?void 0:i.category)==null?void 0:W.name)??"",created_at:At(i.created_at).format("LLL"),status:p.jsxs(p.Fragment,{children:[i.status==="Assigned"&&p.jsxs("div",{className:"bg-blue-600 text-white text-xs font-medium inline-flex items-center px-2.5 py-0.5 rounded me-2 border-gray-500",children:[p.jsx(Ut,{className:"w-4 h-4"})," Assigned"]}),i.status==="Pending"&&p.jsxs("div",{className:"bg-yellow-600 text-white text-xs font-medium inline-flex items-center px-2.5 py-0.5 rounded me-2 border-gray-500",children:[p.jsx(Kt,{})," Pending"]}),i.status==="Closed"&&p.jsxs("div",{className:"bg-green-600 text-white text-xs font-medium inline-flex items-center px-2.5 py-0.5 rounded me-2 border-gray-500",children:[p.jsx(Vt,{className:"w-4 h-4"})," Closed"]}),i.status==="Declined"&&p.jsxs("div",{className:"bg-red-600 text-white text-xs font-medium inline-flex items-center px-2.5 py-0.5 rounded me-2 border-gray-500",children:[p.jsx(qt,{className:"w-4 h-4"})," Declined"]}),i.isUrgent==="true"&&p.jsxs("div",{className:"bg-red-600 text-white text-xs font-medium inline-flex items-center px-2.5 py-0.5 rounded me-2 border border-transparent animate-border-glow",children:[p.jsx(Xt,{className:"w-4 h-4 mr-1"}),"Urgent"]})]}),action:p.jsx("div",{className:"flex gap-4",children:p.jsxs("button",{onClick:()=>Ce.visit("/admin/tickets/"+i.id+"/details"),type:"button",className:"text-white bg-[#2557D6] gap-2 hover:bg-[#2557D6]/90 focus:ring-4 focus:ring-[#2557D6]/50 focus:outline-none font-medium rounded-lg text-sm px-5 py-1.5 text-center inline-flex items-center",children:[p.jsx(Wt,{className:"size-5 "}),"View Ticket"]})})}}):[],B=parseInt(v.get("page"),10)||1,N=i=>{const w=new URLSearchParams(window.location.search);w.set("page",i),w.set("assigned_to",g||"");const M=window.location.pathname+"?"+w.toString();Ce.visit(M)},f=10;return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Lt,{}),p.jsx(Ft,{})]}),p.jsxs("div",{className:"flex flex-col items-center justify-between h-[85vh] w-full",children:[p.jsx(Ht,{pagination:!1,setDataChecked:c,dataChecked:n,columns:h,data:D,isCheckbox:!0,dataSource:(e==null?void 0:e.data)||[]}),p.jsx("div",{className:"w-full mt-3.5",children:(e==null?void 0:e.total)>0?`Showing ${(B-1)*f+1} to ${Math.min(B*f,e.total)} of ${e.total} entries`:"No entries available"}),p.jsx(Ai,{onChange:N,current:B,total:(e==null?void 0:e.total)||0,pageSize:f,showSizeChanger:!1})]})]})}export{mn as default};
